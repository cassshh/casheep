<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="svg-icons.html">

<dom-module id="sheep-login">
    <template>
        <style>
             :host {
                display: block;
                text-align: center;
            }
            
            img.logo {
                display: block;
                margin: 0 auto;
                min-width: 180px;
                width: 20%;
            }
            
            paper-button.sign-in-card {
                width: 20%;
                max-width: 100px;
                min-width: 50px;
                margin: 4px;
                padding: 10px;
                border-bottom: 0.2em solid;
                -o-transition: all .5s ease-out;
                -ms-transition: all .5s ease-out;
                -moz-transition: all .5s ease-out;
                -webkit-transition: all .5s ease-out;
                transition: all .5s ease-out;
                --paper-button: {
                    background-color: var(--app-primary-color);
                };
            }
            
            paper-button.sign-in-card:hover,
            paper-button.sign-in-card:active,
            paper-button.sign-in-card:focus{
                cursor: pointer;
                -o-transition: all .5s ease;
                -ms-transition: all .5s ease;
                -moz-transition: all .5s ease;
                -webkit-transition: all .5s ease;
                transition: all .5s ease;
            }
            
            paper-button.google {
                border-bottom-color: #db3236;
            }
            
            paper-button.google:hover,
            paper-button.google:active,
            paper-button.google:focus {
                background-color: #db3236;
            }
            
            paper-button.github {
                border-bottom-color: #6e5494;
            }
            
            paper-button.github:hover,
            paper-button.github:active,
            paper-button.github:focus {
                background-color: #6e5494;
            }
            
            paper-button.twitter {
                border-bottom-color: #1da1f2;
            }
            
            paper-button.twitter:hover,
            paper-button.twitter:active,
            paper-button.twitter:focus {
                background-color: #1da1f2;
            }
            
            paper-button.facebook {
                border-bottom-color: #3b5998;
            }
            
            paper-button.facebook:hover,
            paper-button.facebook:active,
            paper-button.facebook:focus {
                background-color: #3b5998;
            }
        </style>
        <img class="logo" src="../images/manifest/casheep_logo_512.png" />
        <h1>Sign In</h1>
        <paper-button class="sign-in-card google" data-provider="google" on-tap="signIn" disabled$="[[_canLogin(loadingUser, user)]]">
            <iron-icon icon="somed:google" data-provider="google"></iron-icon>
        </paper-button>
        <!--<paper-button class="sign-in-card github" data-provider="github" on-tap="signIn" disabled>
            <iron-icon icon="somed:github" data-provider="github"></iron-icon>
        </paper-button>
        <paper-button class="sign-in-card twitter" data-provider="twitter" on-tap="signIn" disabled>
            <iron-icon icon="somed:twitter" data-provider="twitter"></iron-icon>
        </paper-button>
        <paper-button class="sign-in-card facebook" data-provider="facebook" on-tap="signIn" disabled>
            <iron-icon icon="somed:facebook" data-provider="facebook"></iron-icon>
        </paper-button>-->
    </template>

    <script>
        Polymer({
            is: 'sheep-login',

            properties: {
                loadingUser: {
                    type: Boolean,
                    notify: true
                },
                user: {
                    type: Object,
                    notify: true
                }
            },

            _canLogin: function (loading, user) {
                console.log(loading + " | " + user);
                var disabled = true;
                if (!loading && user === null) disabled = false;
                return disabled;
            },

            signIn: function (e) {
                var prov = e.target.getAttribute('data-provider');
                this.fire('signIn', {provider: prov});
            }
        });
    </script>
</dom-module>